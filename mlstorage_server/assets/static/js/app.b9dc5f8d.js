(function(t){function e(e){for(var a,r,i=e[0],c=e[1],l=e[2],u=0,h=[];u<i.length;u++)r=i[u],n[r]&&h.push(n[r][0]),n[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],a=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=s[0]))}return t}var a={},n={app:0},o=[];function r(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=a,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(s,a,function(e){return t[e]}.bind(null,a));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var l=0;l<i.length;l++)e(i[l]);var d=c;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";var a=s("64a9"),n=s.n(a);n.a},"0e24":function(t,e,s){},"0f8a":function(t,e,s){},"1d89":function(t,e,s){},2036:function(t,e,s){"use strict";var a=s("82e6"),n=s.n(a);n.a},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=o(t);return s(e)}function o(t){var e=a[t];if(!(e+1)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return e}n.keys=function(){return Object.keys(a)},n.resolve=o,t.exports=n,n.id="4678"},"51f6":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var a=s("a026"),n=s("9f7b"),o=(s("f9e3"),s("2dd8"),s("d06d"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-wrapper",attrs:{id:"app"}},[s("router-view",{staticClass:"app-content"})],1)}),r=[],i=(s("034f"),s("2877")),c={},l=Object(i["a"])(c,o,r,!1,null,null,null),d=l.exports,u=s("8c4f"),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"dark",fixed:"top"}},[s("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),s("b-navbar-brand",{attrs:{href:"#"}},[t._v("MLStorage")]),s("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[s("b-navbar-nav",[s("b-nav-item",{attrs:{to:"/",exact:""}},[t._v("Dashboard")])],1),s("b-dropdown-divider"),s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-item",{on:{click:t.refresh}},[t._v("Reload")])],1)],1)],1),s("delayed-progress-bar",{staticClass:"fixed-top",attrs:{"z-index":"9999"}}),s("div",{staticClass:"main-wrapper"},[s("error-box"),s("experiment-list",{attrs:{"page-id":t.pageId,"query-string":t.queryString,"load-version":t.loadVersion},on:{navToPage:t.navToPage}})],1)],1)},f=[],p=s("70f1"),m=s.n(p),b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.isLoading?s("b-progress",{staticStyle:{width:"100%",height:"5px"},attrs:{value:100,variant:"dark",animated:!0,striped:!0}}):t._e()},v=[],g=s("d225"),_=s("b0b4"),x=function(){function t(){Object(g["a"])(this,t),this._bus=new a["a"]}return Object(_["a"])(t,[{key:"addReloader",value:function(t){this._bus.$on("reload",t)}},{key:"removeReloader",value:function(t){this._bus.$off("reload",t)}},{key:"callReloader",value:function(){this._bus.$emit("reload")}},{key:"watchLoadingFlag",value:function(t){this._bus.$on("loadingFlag",t)}},{key:"unwatchLoadingFlag",value:function(t){this._bus.$off("loadingFlag",t)}},{key:"setLoadingFlag",value:function(t){this._bus.$emit("loadingFlag",t)}},{key:"addErrorHandler",value:function(t){this._bus.$on("error",t)}},{key:"removeErrorHandler",value:function(t){this._bus.$off("error",t)}},{key:"setError",value:function(t){var e=t.message,s=t.title;this._bus.$emit("error",{hasError:!!e,message:e,title:s})}},{key:"unsetError",value:function(){this._bus.$emit("error",{hasError:!1})}}]),t}(),y=new x,C=y,j={props:["loading"],data:function(){return{isLoading:!1}},created:function(){this.showInterval=null,C.watchLoadingFlag(this.watchLoadingFlag)},destroyed:function(){C.unwatchLoadingFlag(this.watchLoadingFlag),this.showInterval&&(clearInterval(this.showInterval),this.showInterval=null)},methods:{watchLoadingFlag:function(t){var e=this;t?this.showInterval||(this.showInterval=setInterval(function(){clearInterval(e.showInterval),e.isLoading=!0,e.showInterval=null},500)):(this.showInterval&&(clearInterval(this.showInterval),this.showInterval=null),this.isLoading=!1)}}},k=j,w=Object(i["a"])(k,b,v,!1,null,null,null),T=w.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.hasError?s("b-container",{staticStyle:{"padding-top":"15px"},attrs:{fluid:""}},[s("b-row",[s("b-col",[s("b-alert",{attrs:{variant:"danger",show:""}},[t.errorTitle?s("h4",{staticClass:"alert-heading"},[t._v(t._s(t.errorTitle))]):t._e(),s("div",[t._v(t._s(t.errorMessage))])])],1)],1)],1):t._e()],1)},D=[],S={data:function(){return{hasError:!1,errorTitle:null,errorMessage:null}},mounted:function(){C.addErrorHandler(this.setError)},destroyed:function(){C.removeErrorHandler(this.setError)},methods:{setError:function(t){var e=t.hasError,s=t.title,a=t.message;this.hasError=e,this.errorTitle=s,this.errorMessage=a}}},R=S,L=Object(i["a"])(R,E,D,!1,null,null,null),I=L.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticClass:"main-container",attrs:{fluid:""}},[s("b-modal",{attrs:{id:"deleteConfirm",title:"Confirm to Delete","ok-variant":"danger","ok-title":"Delete Them"},on:{ok:t.deleteDocs}},[t._v("\n    Really want to delete these experiments?\n    "),s("ul",t._l(t.selectedExperiments,function(e){return s("li",{key:e.id},[e.name?s("span",[t._v('"'+t._s(e.name)+'" ('+t._s(e.id)+")")]):s("span",[t._v('"'+t._s(e.id)+'"')])])}),0)]),s("b-row",[s("b-col",[s("b-form-input",{staticClass:"query-input",attrs:{type:"text",placeholder:"Enter your query"},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.queryStringKeyEnter(e):null}},model:{value:t.inputQueryString,callback:function(e){t.inputQueryString=e},expression:"inputQueryString"}})],1)],1),s("b-row",[s("b-col",[t.docs?s("div",[s("experiment-list-tool-bar",{staticClass:"top-tool-bar",attrs:{"page-id":t.pageId,"has-next-page":t.hasNextPage,"has-prev-page":t.hasPrevPage,"show-checkbox":t.showCheckbox,"selected-experiments":t.selectedExperiments,"sort-by":t.sortBy},on:{navToPage:t.navToPage,showCheckboxChanged:t.showCheckboxChanged,sortByChanged:t.sortByChanged,deleteDocs:t.deleteDocs}}),s("b-list-group",{staticClass:"experiment-list"},t._l(t.docs,function(e){return s("experiment-list-entry",{key:e.id,attrs:{doc:e,"show-checkbox":t.showCheckbox},on:{selectChanged:t.experimentSelectChanged}})}),1),this.docs&&this.docs.length>0?s("experiment-list-tool-bar",{staticClass:"bottom-tool-bar",attrs:{"page-id":t.pageId,"has-next-page":t.hasNextPage,"has-prev-page":t.hasPrevPage,"show-checkbox":t.showCheckbox,"selected-experiments":t.selectedExperiments,"sort-by":t.sortBy},on:{navToPage:t.navToPage,showCheckboxChanged:t.showCheckboxChanged,sortByChanged:t.sortByChanged,deleteDocs:t.deleteDocs}}):t._e()],1):t._e()])],1)],1)},z=[],F=(s("c5f6"),s("bc3a")),N=s.n(F),O=s("85f2"),$=s.n(O),B=s("a4bb"),V=s.n(B),M=s("8ded"),q=s.n(M);function K(t){for(var e={},s=V()(t),a=function(){var a=s[n],o=t[a];$()(e,a,{get:function(){var t=q.a.get(a);return"undefined"===typeof t?o:t},set:function(t){q.a.set(a,t)}})},n=0;n<s.length;n++)a();return e}var U=function(){function t(){Object(g["a"])(this,t),this._dashboard=K({sortBy:"-heartbeat",pageSize:10})}return Object(_["a"])(t,[{key:"dashboard",get:function(){return this._dashboard}}]),t}(),W=new U,A=W,H=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"clearfix"}),s("b-button-toolbar",{staticClass:"operation-bar"},[s("b-button-group",{staticClass:"mx-1",attrs:{size:"sm"}},[s("b-button",{attrs:{pressed:t.myShowCheckbox},on:{"update:pressed":function(e){t.myShowCheckbox=e}}},[t._v("Select")]),t.showCheckbox?s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteConfirm",modifiers:{deleteConfirm:!0}}],attrs:{variant:"danger",disabled:!t.selectedCount}},[t._v("\n        Delete"),t.showCheckbox?s("span",[t._v(" ("+t._s(t.selectedCount)+")")]):t._e()]):t._e()],1),s("b-dropdown",{staticClass:"mx-1",attrs:{size:"sm",left:"",text:"Options"}},[s("b-dropdown-header",{attrs:{size:"sm"}},[t._v("Sort By")]),s("b-form-select",{staticClass:"select-input",attrs:{size:"sm",options:t.sortByOptions},model:{value:t.theSortBy,callback:function(e){t.theSortBy=e},expression:"theSortBy"}})],1)],1),t.hasNavigation?s("b-button-toolbar",{staticClass:"navigation-bar",attrs:{"key-nav":"","aria-label":"Toolbar with button groups"}},[s("b-button-group",{staticClass:"mx-1",attrs:{size:"sm"}},[s("b-btn",{attrs:{disabled:!t.hasPrevPage},on:{click:t.prevPage}},[t._v("‹")])],1),s("b-button-group",{staticClass:"mx-1",attrs:{size:"sm"}},[s("b-btn",[t._v(t._s(t.pageId))])],1),s("b-button-group",{staticClass:"mx-1",attrs:{size:"sm"}},[s("b-btn",{attrs:{disabled:!t.hasNextPage},on:{click:t.nextPage}},[t._v("›")])],1)],1):t._e(),s("div",{staticClass:"clearfix"})],1)},Q=[],G={props:{pageId:{type:Number},hasNextPage:{type:Boolean},hasPrevPage:{type:Boolean},showCheckbox:{type:Boolean},selectedExperiments:{type:Array},sortBy:{type:String}},data:function(){return{myShowCheckbox:this.showCheckbox,theSortBy:this.sortBy,sortByOptions:[{value:"-heartbeat",text:"Last Update"},{value:"-start_time",text:"Start Time"}]}},computed:{hasNavigation:function(){return this.hasPrevPage||this.hasNextPage},selectedCount:function(){return this.selectedExperiments&&this.selectedExperiments.length||0}},watch:{showCheckbox:function(t){this.myShowCheckbox=t},myShowCheckbox:function(t){this.$emit("showCheckboxChanged",t)},sortBy:function(t){this.theSortBy=t},theSortBy:function(t){this.$emit("sortByChanged",t)}},methods:{prevPage:function(){this.hasPrevPage&&this.$emit("navToPage",this.pageId-1)},nextPage:function(){this.hasNextPage&&this.$emit("navToPage",this.pageId+1)}}},Y=G,J=(s("a69d"),Object(i["a"])(Y,H,Q,!1,null,"a32020e8",null)),Z=J.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-list-group-item",{staticClass:"flex-column align-items-start",attrs:{variant:t.statusClass,href:"#"},on:{click:t.onItemClick}},[s("div",{staticClass:"d-flex w-100 justify-content-between flex-md-row flex-column"},[s("h5",{staticClass:"mb-1"},[t.showCheckbox?s("b-form-checkbox",{staticClass:"experimentCheckbox",on:{change:t.onSelectChanged},model:{value:t.checked,callback:function(e){t.checked=e},expression:"checked"}}):t._e(),s("span",[t._v(t._s(t.doc.name))])],1),s("small",{staticClass:"text-muted"},[t._v(t._s(t.dateText))])]),t.doc.description?s("div",[t._v("\n    "+t._s(t.doc.description)+"\n  ")]):t._e(),t.doc.result?s("div",{staticClass:"results d-flex justify-content-start flex-wrap"},t._l(t.sortedResultKeys,function(e){return s("div",{key:e,staticClass:"resultItem d-flex justify-content-start"},[s("div",{staticClass:"resultKey"},[t._v(t._s(e))]),s("div",{staticClass:"resultValue"},[t._v(t._s(t.doc.result[e]))])])}),0):t._e(),t.doc.tags?s("div",{staticClass:"tags"},t._l(t.doc.tags,function(e){return s("b-badge",{key:e,attrs:{variant:t.statusClass||"secondary"}},[t._v(t._s(e))])}),1):t._e()])},tt=[],et=(s("55dd"),s("c1df")),st=s.n(et),at=function(){function t(){Object(g["a"])(this,t),this._tm=null,this._dateText="",this._dateDiff=0,this._interval=null,this._refreshRate=null,this._hasDestroyed=!1,this._watchers=[]}return Object(_["a"])(t,[{key:"addWatcher",value:function(t){this._watchers.push(t)}},{key:"setTimestamp",value:function(t){this._tm=st.a.utc(1e3*t).local(),this.updateText()}},{key:"updateText",value:function(){var t=this,e=st()(),s=Math.floor(Math.abs(this._tm.diff(e))/1e3);this._dateDiff=s;var a=0;if(a=s<=61?1:s<=3660?60:s<=9e4?3600:null,this._dateText=s<60?s>=2?"".concat(s," seconds ago"):s>=1?"1 second ago":"just now":s<3600?s>=120?"".concat(Math.floor(s/60)," minutes ago"):"1 minute ago":s<86400?s>=7200?"".concat(Math.floor(s/3600)," hours ago"):"1 hour ago":this._tm.format("LLL"),!this._hasDestroyed){a&&a===this._refreshRate||this._interval&&(clearInterval(this._interval),this._interval=null),a&&a!==this._refreshRate&&(this._interval=setInterval(function(){return t.updateText()},1e3*a),this._refreshRate=a);for(var n=0;n<this._watchers.length;++n)this._watchers[n](this._dateText,this._dateDiff)}}},{key:"destroy",value:function(){this._hasDestroyed=!0,this._interval&&(clearInterval(this._interval),this._interval=null)}}]),t}();function nt(t,e){var s=t.status,a=t.exit_code;if("RUNNING"===s){if(e>3600)return"LOST";if(e>300)return"Maybe LOST"}return"COMPLETED"===s&&0!==a?"FAILED":s}function ot(t,e,s){var a=t.status,n=t.exit_code;return a=nt({status:a,exit_code:n},e),"RUNNING"===a?"primary":"Maybe LOST"===a?"warning":"FAILED"===a||"LOST"===a?"danger":s}function rt(t,e){return st.a.utc(1e3*t).local().format(e||"LLL")}var it={props:{doc:{type:Object},showCheckbox:{type:Boolean,default:!0}},data:function(){return{expanded:!1,checked:!1,dateText:null,dateDiff:0,statusClass:null}},mounted:function(){var t=this;this.timeDiff=new at,this.timeDiff.addWatcher(function(e,s){return t.timeDiffWatcher(e,s)}),this.timeDiff.setTimestamp(this.doc.heartbeat)},destroyed:function(){this.timeDiff&&this.timeDiff.destroy()},methods:{timeDiffWatcher:function(t,e){this.dateText=t,this.dateDiff=e,this.statusClass=ot(this.doc,this.dateDiff)},onSelectChanged:function(t){this.checked=t,this.$emit("selectChanged",this.doc.id,this.checked)},onItemClick:function(){this.showCheckbox?(this.checked=!this.checked,this.$emit("selectChanged",this.doc.id,this.checked)):this.$router.push("/".concat(this.doc.id,"/"))}},computed:{sortedResultKeys:function(){if(this.doc.result){var t=V()(this.doc.result);return t.sort(),t}return null}},watch:{doc:function(t){this.timeDiff.setTimestamp(t.heartbeat)}}},ct=it,lt=(s("f8cd"),Object(i["a"])(ct,X,tt,!1,null,"4775e826",null)),dt=lt.exports,ut={components:{ExperimentListToolBar:Z,ExperimentListEntry:dt},props:{pageId:{type:Number,default:1},queryString:{type:String,default:""},loadVersion:{type:Number,default:0}},data:function(){return{docs:null,pageSize:A.dashboard.pageSize,hasNextPage:!0,selectedExperiments:[],showCheckbox:!1,sortBy:A.dashboard.sortBy,inputQueryString:this.queryString}},mounted:function(){var t=this;this.load(),C.addReloader(this.load),this.autoReloader=setInterval(function(){return t.load()},12e4)},destroyed:function(){C.removeReloader(this.load),this._autoReloader&&(clearInterval(this._autoReloader),this.autoReloader=null)},computed:{hasPrevPage:function(){return this.pageId>1},selectedCount:function(){return this.selectedExperiments.size}},watch:{loadVersion:function(){this.load()}},methods:{load:function(){var t=this;if(!this.stopLoading){var e=this.pageId;C.setLoadingFlag(!0);var s="/v1/_query?timestamp=1&strict=1&sort=".concat(this.sortBy,"&")+"skip=".concat((e-1)*this.pageSize,"&limit=").concat(this.pageSize+1,"&core=1"),a=this.queryString||{},n={};this.queryString&&(n["Content-Type"]="text/plain"),N.a.post(s,a,{headers:n}).then(function(s){if(t.selectedExperiments=[],t.showCheckbox=!1,e===t.pageId){var a=s.data;a.length>t.pageSize?(t.hasNextPage=!0,t.docs=s.data.slice(0,s.data.length-1)):(t.hasNextPage=!1,t.docs=s.data),C.setLoadingFlag(!1),C.unsetError()}}).catch(function(e){t.docs=null,t.selectedExperiments=[],t.showCheckbox=!1,C.setLoadingFlag(!1),C.setError({message:e.response?e.response.statusText:e,title:"Failed to load experiments"})})}},navToPage:function(t){this.$emit("navToPage",t,this.queryString)},sortByChanged:function(t){this.sortBy=t,A.dashboard.sortBy=t,this.load()},queryStringKeyEnter:function(){this.$emit("navToPage",1,this.inputQueryString)},experimentSelectChanged:function(t,e){if(e){if(this.docs&&this.docs.length>0)for(var s=0;s<this.docs.length;++s){var a=this.docs[s];a.id===t&&this.selectedExperiments.push(a)}}else if(this.selectedExperiments&&this.selectedExperiments.length>0)for(var n=this.selectedExperiments.length-1;n>=0;--n){var o=this.selectedExperiments[n];o.id===t&&this.selectedExperiments.splice(n,1)}},showCheckboxChanged:function(t){this.showCheckbox=t},deleteDocs:function(){if(C.setLoadingFlag(!0),this.selectedExperiments&&this.selectedExperiments.length>0){var t=this.selectedExperiments.map(function(t){return t.id}),e=this,s=function s(a){N.a.post("/v1/_delete/".concat(t[a])).then(function(){a>0?s(a-1):(C.setLoadingFlag(!1),C.unsetError(),e.load())}).catch(function(t){C.setLoadingFlag(!1),C.setError({title:"Failed to delete an experiment",message:t.response?t.response.statusText:t}),e.docs=null,e.selectedExperiments=[],e.showCheckbox=!1})};s(t.length-1)}}}},ht=ut,ft=(s("5790"),Object(i["a"])(ht,P,z,!1,null,"7c004596",null)),pt=ft.exports,mt={components:{DelayedProgressBar:T,ErrorBox:I,ExperimentList:pt},mounted:function(){document.title="Dashboard - MLStorage"},data:function(){return{loadVersion:0}},computed:{pageId:function(){return m()(this.$route.params.pageId||1)},queryString:function(){return this.$route.query.q||""}},methods:{refresh:function(){C.callReloader()},navToPage:function(t,e){var s={path:"/page/".concat(t)};e&&(s["query"]={q:e}),this.$router.push(s),this.loadVersion+=1}}},bt=mt,vt=(s("aa46"),Object(i["a"])(bt,h,f,!1,null,null,null)),gt=vt.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"dark",fixed:"top"}},[s("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),s("b-navbar-brand",{attrs:{href:"#"}},[t._v("MLStorage")]),s("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[s("b-navbar-nav",[s("b-nav-item",{attrs:{to:"/",exact:""}},[t._v("Dashboard")])],1),s("b-dropdown-divider"),s("b-navbar-nav",[s("b-nav-item",{attrs:{to:"/"+t.id+"/",exact:""}},[t._v("Experiment")]),s("b-nav-item",{attrs:{to:"/"+t.id+"/console",exact:""}},[t._v("Console")]),s("b-nav-item",{attrs:{to:"/"+t.id+"/browse/"}},[t._v("Browse")])],1),s("b-dropdown-divider"),s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-item",{on:{click:t.refresh}},[t._v("Reload")])],1)],1)],1),s("delayed-progress-bar",{staticClass:"fixed-top",attrs:{"z-index":"9999"}}),s("div",{staticClass:"main-wrapper"},[s("error-box"),t.doc?s("router-view",{attrs:{doc:t.doc},on:{update:t.updateDoc,delete:t.deleteDoc}}):t._e()],1)],1)},xt=[],yt=(s("7f7f"),{components:{DelayedProgressBar:T,ErrorBox:I},data:function(){return{doc:null}},computed:{id:function(){return this.$route.params.id},name:function(){return this.doc&&this.doc.name}},mounted:function(){var t=this;this.load(),C.addReloader(this.load),this._autoReloader=setInterval(function(){return t.load()},12e4)},destroyed:function(){this._autoReloader&&(clearInterval(this._autoReloader),this._autoReloader=null),C.removeReloader(this.load)},methods:{refresh:function(){C.callReloader()},setDoc:function(t){this.doc=t,document.title=t?"".concat(this.doc.name||this.doc.id," - MLStorage"):"Experiment - MLStorage"},load:function(){var t=this;C.setLoadingFlag(!0),N.a.get("/v1/_get/".concat(this.id,"?timestamp=1&strict=1")).then(function(e){C.setLoadingFlag(!1),C.unsetError(),t.setDoc(e.data)}).catch(function(e){C.setLoadingFlag(!1),C.setError({title:"Failed to load the experiment",message:e.response?e.response.statusText:e}),t.setDoc(null)})},updateDoc:function(t){var e=this;t&&(C.setLoadingFlag(!0),N.a.post("/v1/_update/".concat(this.id,"?timestamp=1&strict=1"),t).then(function(t){C.setLoadingFlag(!1),C.unsetError(),e.setDoc(t.data)}).catch(function(t){C.setLoadingFlag(!1),C.setError({title:"Failed to load the experiment",message:t.response?t.response.statusText:t}),e.setDoc(null)}))},deleteDoc:function(){var t=this;C.setLoadingFlag(!0),N.a.post("/v1/_delete/".concat(this.id)).then(function(){C.setLoadingFlag(!1),C.unsetError(),t.$router.push("/")}).catch(function(e){C.setLoadingFlag(!1),C.setError({title:"Failed to delete the experiment",message:e.response?e.response.statusText:e}),t.setDoc(null)})}}}),Ct=yt,jt=(s("e968"),Object(i["a"])(Ct,_t,xt,!1,null,null,null)),kt=jt.exports,wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-modal",{attrs:{id:"deleteConfirm",title:"Confirm to Delete","ok-variant":"danger","ok-title":"Delete It"},on:{ok:t.deleteDoc}},[t._v("\n    Really want to delete the experiment\n      "),t.doc.name?s("span",[t._v('"'+t._s(t.doc.name)+'" ('+t._s(t.doc.id)+")")]):s("span",[t._v('"'+t._s(t.doc.id)+'"')]),t._v("\n    ?\n  ")]),s("b-container",{staticStyle:{"padding-top":"15px"},attrs:{fluid:""}},[s("b-row",[s("b-col",[s("b-button-toolbar",{staticClass:"toolbar justify-content-end",attrs:{"key-nav":"","aria-label":"Toolbar with button groups"}},[t.doc&&t.sortedWebUIKeys?s("b-button-group",{staticClass:"mx-1"},t._l(t.sortedWebUIKeys,function(e){return s("b-button",{key:"webui:"+e,attrs:{href:t.doc.webui[e]}},[t._v("\n              "+t._s(e)+"\n            ")])}),1):t._e(),s("b-button-group",{staticClass:"mx-1"},[s("b-button",{attrs:{variant:"secondary",href:"/v1/_tarball/"+t.id}},[t._v("Download")]),s("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteConfirm",modifiers:{deleteConfirm:!0}}],attrs:{variant:"danger"}},[t._v("Delete")])],1),s("div",{staticStyle:{clear:"both"}})],1),s("table",{staticClass:"table table-hover info-table"},[s("tbody",[s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("ID")]),s("td",{staticClass:"id fieldValue"},[s("span",[t._v(t._s(t.doc.id))])])]),s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Name")]),s("td",{staticClass:"fieldValue"},[s("editable-text",{attrs:{value:t.doc.name},on:{change:t.onNameChanged}},[t._v("\n                "+t._s(t.doc.name)+"\n              ")])],1)]),s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Description")]),s("td",{staticClass:"fieldValue"},[s("editable-text",{attrs:{value:t.doc.description},on:{change:t.onDescriptionChanged}},[t._v("\n                "+t._s(t.doc.description)+"\n              ")])],1)]),s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Tags")]),s("td",{staticClass:"tags fieldValue"},[s("editable-text",{attrs:{value:t.doc.tags,valueToText:t.tagsToText,textToValue:t.textToTags},on:{change:t.onTagsChanged}},t._l(t.doc.tags,function(e){return s("span",{key:e},[t._v(t._s(e))])}),0)],1)]),s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Status")]),s("td",{staticClass:"fieldValue"},[s("div",{class:"text-"+t.statusClass},[t._v(t._s(t.statusText))])])]),t.doc.error&&t.doc.error.message?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Error")]),s("td",{staticClass:"fieldValue"},[s("div",[s("pre",[t._v(t._s(t.doc.error.message))]),t.doc.error.traceback?s("b-button",{staticClass:"show-traceback-btn",attrs:{pressed:t.showTraceback,variant:"secondary",size:"sm"},on:{"update:pressed":function(e){t.showTraceback=e}}},[t._v("\n                  Show Traceback\n                ")]):t._e(),t.doc.error.traceback&&t.showTraceback?s("pre",{staticClass:"traceback"},[t._v(t._s(t.doc.error.traceback))]):t._e()],1)])]):t._e(),t.doc.result?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Result")]),s("td",{staticClass:"fieldValue"},[s("dict-table",{attrs:{items:t.doc.result}})],1)]):t._e(),t.doc.config||t.doc.default_config?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Config")]),t.doc.default_config?s("td",{staticClass:"fieldValue"},[s("b-button",{attrs:{pressed:t.showDefaultConfig,variant:"secondary",size:"sm"},on:{"update:pressed":function(e){t.showDefaultConfig=e}}},[t._v("\n                Show Default Config\n              ")]),t.showDefaultConfig&&t.mergedConfig?s("dict-table",{staticStyle:{"margin-top":"5px"},attrs:{items:t.mergedConfig,boldKeys:t.configKeys}}):t.doc.config?s("dict-table",{staticStyle:{"margin-top":"5px"},attrs:{items:t.doc.config}}):t._e()],1):s("td",{staticClass:"fieldValue"},[s("dict-table",{attrs:{items:t.mergedConfig}})],1)]):t._e(),t.doc.args?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Args")]),s("td",{staticClass:"fieldValue"},[s("ul",{staticClass:"arg-list"},t._l(t.doc.args,function(e,a){return s("li",{key:a},[s("pre",[t._v(t._s(e))])])}),0)])]):t._e(),void 0!==t.doc.exit_code&&null!==t.doc.exit_code?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Exit Code")]),s("td",{staticClass:"fieldValue"},[t._v(t._s(t.doc.exit_code))])]):t._e(),t.doc.storage_dir?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Storage Dir")]),s("td",{staticClass:"fieldValue"},[t._v(t._s(t.doc.storage_dir))])]):t._e(),t.doc.exc_info&&t.doc.exc_info.work_dir?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Work Dir")]),s("td",{staticClass:"fieldValue"},[t._v(t._s(t.doc.exc_info.work_dir))])]):t._e(),t.storageSize?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("File Size")]),s("td",{staticClass:"fieldValue"},[t._v(t._s(t.storageSize))])]):t._e(),t.doc.start_time?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Start Time")]),s("td",{staticClass:"fieldValue"},[t._v(t._s(t.startTime))])]):t._e(),s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Last Update")]),s("td",{staticClass:"fieldValue"},[t._v(t._s(t.dateText))])]),t.doc.exc_info&&t.doc.exc_info.hostname?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Hostname")]),s("td",{staticClass:"fieldValue"},[t._v(t._s(t.doc.exc_info.hostname))])]):t._e(),t.doc.exc_info&&t.doc.exc_info.pid?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("PID")]),s("td",{staticClass:"fieldValue"},[t._v(t._s(t.doc.exc_info.pid))])]):t._e(),t.doc.exc_info&&t.doc.exc_info.env?s("tr",[s("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Environ")]),s("td",{staticClass:"fieldValue"},[s("b-button",{attrs:{pressed:t.showEnviron,variant:"secondary",size:"sm"},on:{"update:pressed":function(e){t.showEnviron=e}}},[t._v("\n                Show Environmental Variables\n              ")]),t.showEnviron?s("dict-table",{attrs:{items:t.doc.exc_info.env}}):t._e()],1)]):t._e()])])],1)],1)],1)],1)},Tt=[],Et=(s("28a5"),s("5176")),Dt=s.n(Et),St=s("49d5"),Rt=s.n(St),Lt=s("5b8b"),It=s.n(Lt),Pt=s("37ec"),zt=s.n(Pt),Ft=s("f628"),Nt=s.n(Ft),Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"editable-text",on:{click:t.onClick}},[t.editing?s("div",[s("b-form-input",{attrs:{type:"text",id:t.inputId,state:t.hasError},on:{change:t.onValueChange},nativeOn:{blur:function(e){return t.onValueChange(e)}},model:{value:t.valueText,callback:function(e){t.valueText=e},expression:"valueText"}}),s("b-form-invalid-feedback",{attrs:{id:t.inputId}},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")])],1):s("span",[t.valueText?t._t("default"):t._e(),t.valueText?t._e():s("span",{staticClass:"placeholder"},[t._v("(click here to edit)")])],2)])},$t=[],Bt=(s("6b54"),s("c64e")),Vt=s.n(Bt),Mt={props:{value:{default:null},valueToText:{default:function(){return function(t){return t}}},textToValue:{default:function(){return function(t){return t}}}},data:function(){return{editing:!1,errorMessage:null,valueText:this.valueToText(this.value),inputId:Vt()()}},watch:{value:function(t){this.valueText=this.valueToText(t)}},computed:{hasError:function(){return!this.errorMessage&&null}},methods:{onClick:function(){var t=this;this.editing=!0,this.errorMessage=null,a["a"].nextTick(function(){t.$el.getElementsByTagName("input")[0].focus()})},onValueChange:function(){try{this.$emit("change",this.textToValue(this.valueText)),this.errorMessage=null,this.editing=!1}catch(t){this.errorMessage=t.toString()}}}},qt=Mt,Kt=(s("81a3"),Object(i["a"])(qt,Ot,$t,!1,null,"bd512aac",null)),Ut=Kt.exports,Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.sortedItems?s("table",{staticClass:"table table-sm dict-table"},[s("tbody",t._l(t.sortedItems,function(e){return s("tr",{key:e.key,class:e.bold?["table-primary","boldItem"]:[]},[s("th",{staticClass:"fieldName"},[t._v(t._s(e.key))]),s("td",{staticClass:"fieldValue"},[t._v(t._s(e.value))])])}),0)]):t._e()},At=[],Ht=(s("6762"),s("2fdb"),{props:{items:{default:null},boldKeys:{default:null}},computed:{sortedItems:function(){var t=this.items||{},e=this.boldKeys||[],s=V()(t);return s.sort(It()({insensitive:!0})),s.map(function(s){return{key:s,value:t[s],bold:e.includes(s)}})}}}),Qt=Ht,Gt=(s("f4c8"),Object(i["a"])(Qt,Wt,At,!1,null,"4c02b502",null)),Yt=Gt.exports,Jt={components:{EditableText:Ut,DictTable:Yt},props:["doc"],data:function(){return{dateText:null,dateDiff:0,statusClass:null,statusText:null,showTraceback:!1,showDefaultConfig:!1,showEnviron:!1}},mounted:function(){var t=this;C.unsetError(),this.timeDiff=new at,this.timeDiff.addWatcher(function(e,s){return t.timeDiffWatcher(e,s)}),this.timeDiff.setTimestamp(this.doc.heartbeat)},destroyed:function(){this.timeDiff&&(this.timeDiff.destroy(),this.timeDiff=null)},computed:{id:function(){return this.$route.params.id},sortedWebUIKeys:function(){if(this.doc.webui){var t=V()(this.doc.webui);return t.sort(It()({insensitive:!0})),t}return null},startTime:function(){return st.a.utc(1e3*this.doc.start_time).local().format("LLL")},mergedConfig:function(){var t=Dt()({},this.doc.default_config||{});return t=Dt()(t,this.doc.config||{}),t},configKeys:function(){return V()(this.doc.config||{})},storageSize:function(){return this.doc.storage_size?Rt()(this.doc.storage_size):null}},methods:{timeDiffWatcher:function(t,e){this.dateText=t,this.dateDiff=e,this.statusClass=ot(this.doc,this.dateDiff,"success"),this.statusText=nt(this.doc,this.dateDiff)},updateDoc:function(t){t&&this.$emit("update",t)},deleteDoc:function(){this.$emit("delete")},onNameChanged:function(t){t!==this.doc.name&&this.updateDoc({name:t})},onDescriptionChanged:function(t){t!==this.doc.description&&this.updateDoc({description:t})},tagsToText:function(t){return(t||[]).map(function(t){return t.trim()}).filter(function(t){return!!t}).join(", ")},textToTags:function(t){return Nt()(t.split(",").map(function(t){return t.trim()}).filter(function(t){return!!t}))},onTagsChanged:function(t){t=t||[];var e=this.doc.tags||[];zt()(t,e)||this.updateDoc({tags:t})}},watch:{doc:function(t){this.timeDiff.setTimestamp(t.heartbeat)}}},Zt=Jt,Xt=(s("d036"),Object(i["a"])(Zt,wt,Tt,!1,null,"17ce3430",null)),te=Xt.exports,ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"log-wrapper bg-dark"},[t.logs?s("div",{staticClass:"log-content"},[s("pre",{staticClass:"text-light"},[t._v(t._s(t.logs))])]):t._e()])},se=[],ae=function(){function t(e){Object(g["a"])(this,t),this.loaderFunc=e,this.contentRangeSupported=!0,this.rangeStart=0,this._autoReloader=null,this._hasUnset=!1}return Object(_["a"])(t,[{key:"setReloader",value:function(t){this._hasUnset||(this.contentRangeSupported===t&&this._autoReloader||(this._autoReloader&&(clearInterval(this._autoReloader),this._autoReloader=null),this._autoReloader=setInterval(this.loaderFunc,this.contentRangeSupported?1e4:12e4)),this.contentRangeSupported=t)}},{key:"unsetReloader",value:function(){this._hasUnset||(this._autoReloader&&(clearInterval(this._autoReloader),this._autoReloader=null),this._hasUnset=!0)}}]),t}(),ne={props:["doc"],data:function(){return{loading:!1,finished:!1,logs:null,rangeStart:0}},mounted:function(){var t=this;this.finished="FAILED"===this.doc.status||"COMPLETED"===this.doc.status,this.autoReloader=new ae(function(){return t.load()}),this.finished?this.autoReloader.unsetReloader():this.autoReloader.setReloader(!0),this.load(),C.addReloader(this.load)},destroyed:function(){C.removeReloader(this.load),this.autoReloader.unsetReloader()},computed:{id:function(){return this.$route.params.id}},methods:{load:function(){var t=this;this.loading||(this.loading=!0,C.setLoadingFlag(!0),N.a.get("/v1/_getfile/".concat(this.id,"/console.log"),{headers:this.autoReloader.contentRangeSupported?{Range:"bytes=".concat(this.rangeStart,"-")}:{Range:"bytes=0-"}}).then(function(e){var s=e.headers["content-range"];if(s){t.logs=(t.logs||"")+e.data;try{t.rangeStart=m()(s.split("-")[1].split("/")[0])+1,t.autoReloader.setReloader(!0)}catch(a){console.log("Could not parse Content-Range."),t.autoReloader.setReloader(!1)}}else t.logs=e.data;C.setLoadingFlag(!1),C.unsetError(),t.loading=!1}).catch(function(e){C.setLoadingFlag(!1),e.response&&404===e.response.status?(t.autoReloader.setReloader(!1),C.unsetError(),t.logs=""):e.response&&416===e.response.status?C.unsetError():(t.autoReloader.setReloader(!1),t.logs="",C.setError({title:"Failed to load console.log",message:e.response?e.response.statusText:e})),t.loading=!1}))}},updated:function(){var t=this.$el.getElementsByClassName("log-content");t&&t[0]&&(this.$el.scrollTop=t[0].scrollHeight)},watch:{doc:function(t){this.finished="FAILED"===t.status||"COMPLETED"===t.status,this.finished&&this.autoReloader.unsetReloader()}}},oe=ne,re=(s("a0dd"),Object(i["a"])(oe,ee,se,!1,null,"4d1e583c",null)),ie=re.exports,ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("b-container",{staticStyle:{"padding-top":"15px"},attrs:{fluid:""}},[s("b-row",[s("b-col",[t.items||t.hasParentPath?s("table",{staticClass:"table table-hover table-sm"},[s("tr",[s("th",{staticClass:"shrink",attrs:{scope:"col"}}),s("th",{staticClass:"expand",attrs:{scope:"col"}},[t._v("Name")]),s("th",{staticClass:"shrink",attrs:{scope:"col"}},[t._v("Size")]),s("th",{staticClass:"shrink",attrs:{scope:"col"}},[t._v("Modify Time")])]),t.hasParentPath?s("tr",[s("td",{staticClass:"shrink"},[s("v-icon",{attrs:{name:"folder"}})],1),s("td",{staticClass:"expand"},[s("b-link",{attrs:{to:"/"+t.id+"/browse"+t.resolvePath("..",!0)}},[t._v("..")])],1),s("td",{staticClass:"shrink"}),s("td",{staticClass:"shrink"})]):s("tr",[s("td",{staticClass:"shrink"},[s("v-icon",{attrs:{name:"folder"}})],1),s("td",{staticClass:"expand"},[s("b-link",{attrs:{to:"/"+t.id+"/browse/"}},[t._v(".")])],1),s("td",{staticClass:"shrink"}),s("td",{staticClass:"shrink"})]),t._l(t.sortedDirs,function(e){return s("tr",{key:e.name},[s("td",{staticClass:"shrink"},[s("v-icon",{attrs:{name:"folder"}})],1),s("td",{staticClass:"expand"},[s("b-link",{attrs:{to:"/"+t.id+"/browse"+t.resolvePath(e.name,!0)}},[t._v(t._s(e.name))])],1),s("td",{staticClass:"shrink"}),s("td",{staticClass:"shrink"},[t._v(t._s(t.formatDateTime(e.mtime)))])])}),t._l(t.sortedFiles,function(e){return s("tr",{key:e.name},[s("td",{staticClass:"shrink"},[s("v-icon",{attrs:{name:"file"}})],1),s("td",{staticClass:"expand"},[s("a",{attrs:{href:"/v1/_getfile/"+t.id+t.resolvePath(e.name)}},[t._v(t._s(e.name))])]),s("td",{staticClass:"shrink"},[t._v(t._s(t.fileSize(e.size)))]),s("td",{staticClass:"shrink"},[t._v(t._s(t.formatDateTime(e.mtime)))])])})],2):t._e()])],1)],1)},le=[],de=(s("aef6"),{data:function(){return{items:null}},mounted:function(){this.load(),C.addReloader(this.load)},destroyed:function(){C.removeReloader(this.load)},computed:{id:function(){return this.$route.params.id},path:function(){return this.normalizePath(this.$route.params.path||"")},hasParentPath:function(){return"/"!==this.path},sortedDirs:function(){return this.filterItems(function(t){return t.isdir})},sortedFiles:function(){return this.filterItems(function(t){return!t.isdir})}},watch:{path:function(){this.load()}},methods:{load:function(){var t=this;C.setLoadingFlag(!0),N.a.get("/v1/_listdir/".concat(this.id).concat(this.path)).then(function(e){t.items=e.data,C.setLoadingFlag(!1),C.unsetError()}).catch(function(e){t.items=null,C.setLoadingFlag(!1),C.setError({title:"Failed to list directory",message:e.response?e.response.statusText:e})})},filterItems:function(t){var e=this;if(this.items){var s=this.items.map(function(t,e){return[t.name,e]}).filter(function(s,a){return t(e.items[a])});return s.sort(It()({insensitive:!0})),s.map(function(t){return e.items[t[1]]})}},formatDateTime:function(t){return rt(t,"YYYY-MM-DD H:mm:ss")},fileSize:function(t){return Rt()(t)},normalizePath:function(t){for(var e=t.split("/"),s=[],a=0;a<e.length;++a)".."===e[a]?e.length>0&&s.pop():"."!==e[a]&&""!==e[a]&&s.push(e[a]);return"/"+s.join("/")},resolvePath:function(t,e){var s=this.normalizePath("".concat(this.path,"/").concat(t));return e&&!s.endsWith("/")&&(s+="/"),s}}}),ue=de,he=(s("2036"),Object(i["a"])(ue,ce,le,!1,null,"4e5758a9",null)),fe=he.exports;a["a"].use(u["a"]);var pe=new u["a"]({mode:"history",routes:[{path:"/",component:gt},{path:"/page/:pageId(\\d+)",component:gt},{path:"/:id([A-Za-z0-9]{24})",component:kt,children:[{path:"",component:te},{path:"console",component:ie},{path:"browse:path(/.*)?",component:fe}]}]}),me=pe,be=s("0874");a["a"].use(n["a"]),a["a"].component("v-icon",be["a"]),a["a"].config.productionTip=!1,new a["a"]({el:"#app",router:me,components:{App:d},template:"<App/>"})},5790:function(t,e,s){"use strict";var a=s("0f8a"),n=s.n(a);n.a},"64a9":function(t,e,s){},"81a3":function(t,e,s){"use strict";var a=s("0e24"),n=s.n(a);n.a},"82e6":function(t,e,s){},a0dd:function(t,e,s){"use strict";var a=s("da99"),n=s.n(a);n.a},a69d:function(t,e,s){"use strict";var a=s("aa79"),n=s.n(a);n.a},a9cc:function(t,e,s){},aa46:function(t,e,s){"use strict";var a=s("dd59"),n=s.n(a);n.a},aa79:function(t,e,s){},b31c:function(t,e,s){},d036:function(t,e,s){"use strict";var a=s("a9cc"),n=s.n(a);n.a},da99:function(t,e,s){},dd59:function(t,e,s){},e968:function(t,e,s){"use strict";var a=s("b31c"),n=s.n(a);n.a},f4c8:function(t,e,s){"use strict";var a=s("51f6"),n=s.n(a);n.a},f8cd:function(t,e,s){"use strict";var a=s("1d89"),n=s.n(a);n.a}});
//# sourceMappingURL=app.b9dc5f8d.js.map