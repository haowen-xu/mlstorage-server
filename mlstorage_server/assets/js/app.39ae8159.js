(function(t){function e(e){for(var s,i,o=e[0],c=e[1],d=e[2],u=0,f=[];u<o.length;u++)i=o[u],n[i]&&f.push(n[i][0]),n[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,d||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(s=!1)}s&&(r.splice(e--,1),t=i(i.s=a[0]))}return t}var s={},n={app:0},r=[];function i(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=s,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(a,s,function(e){return t[e]}.bind(null,s));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var d=0;d<o.length;d++)e(o[d]);var l=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var s=a("64a9"),n=a.n(s);n.a},"0e24":function(t,e,a){},2036:function(t,e,a){"use strict";var s=a("82e6"),n=a.n(s);n.a},"254d":function(t,e,a){},2664:function(t,e,a){"use strict";var s=a("aba6"),n=a.n(s);n.a},4678:function(t,e,a){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function n(t){var e=r(t);return a(e)}function r(t){var e=s[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}n.keys=function(){return Object.keys(s)},n.resolve=r,t.exports=n,n.id="4678"},"48ac":function(t,e,a){"use strict";var s=a("ae4b"),n=a.n(s);n.a},"51f6":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var s=a("a026"),n=a("9f7b"),r=(a("f9e3"),a("2dd8"),a("d06d"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-wrapper",attrs:{id:"app"}},[a("router-view",{staticClass:"app-content"})],1)}),i=[],o=(a("034f"),a("2877")),c={},d=Object(o["a"])(c,r,i,!1,null,null,null),l=d.exports,u=a("8c4f"),f=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"dark",fixed:"top"}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),a("b-navbar-brand",{attrs:{href:"#"}},[t._v("MLStorage")]),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{to:"/",exact:""}},[t._v("Dashboard")])],1),a("b-dropdown-divider"),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item",{on:{click:t.refresh}},[t._v("Reload")])],1)],1)],1),a("delayed-progress-bar",{staticClass:"fixed-top",attrs:{"z-index":"9999"}}),a("div",{staticClass:"main-wrapper"},[a("error-box"),a("experiment-list",{attrs:{pageSize:t.pageSize,pageId:t.pageId},on:{pageIdChanged:t.pageIdChanged}})],1)],1)},h=[],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.isLoading?a("b-progress",{staticStyle:{width:"100%",height:"5px"},attrs:{value:100,variant:"dark",animated:!0,striped:!0}}):t._e()},b=[],p=a("d225"),g=a("b0b4"),m=function(){function t(){Object(p["a"])(this,t),this._bus=new s["a"]}return Object(g["a"])(t,[{key:"addReloader",value:function(t){this._bus.$on("reload",t)}},{key:"removeReloader",value:function(t){this._bus.$off("reload",t)}},{key:"callReloader",value:function(){this._bus.$emit("reload")}},{key:"watchLoadingFlag",value:function(t){this._bus.$on("loadingFlag",t)}},{key:"unwatchLoadingFlag",value:function(t){this._bus.$off("loadingFlag",t)}},{key:"setLoadingFlag",value:function(t){this._bus.$emit("loadingFlag",t)}},{key:"addErrorHandler",value:function(t){this._bus.$on("error",t)}},{key:"removeErrorHandler",value:function(t){this._bus.$off("error",t)}},{key:"setError",value:function(t){var e=t.message,a=t.title;this._bus.$emit("error",{hasError:!!e,message:e,title:a})}},{key:"unsetError",value:function(){this._bus.$emit("error",{hasError:!1})}}]),t}(),_=new m,j=_,x={props:["loading"],data:function(){return{isLoading:!1}},created:function(){this.showInterval=null,j.watchLoadingFlag(this.watchLoadingFlag)},destroyed:function(){j.unwatchLoadingFlag(this.watchLoadingFlag),this.showInterval&&(clearInterval(this.showInterval),this.showInterval=null)},methods:{watchLoadingFlag:function(t){var e=this;t?this.showInterval||(this.showInterval=setInterval(function(){clearInterval(e.showInterval),e.isLoading=!0,e.showInterval=null},500)):(this.showInterval&&(clearInterval(this.showInterval),this.showInterval=null),this.isLoading=!1)}}},y=x,w=Object(o["a"])(y,v,b,!1,null,null,null),C=w.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t.hasError?a("b-container",{staticStyle:{"padding-top":"15px"},attrs:{fluid:""}},[a("b-row",[a("b-col",[a("b-alert",{attrs:{variant:"danger",show:""}},[t.errorTitle?a("h4",{staticClass:"alert-heading"},[t._v(t._s(t.errorTitle))]):t._e(),a("div",[t._v(t._s(t.errorMessage))])])],1)],1)],1):t._e()],1)},T=[],D={data:function(){return{hasError:!1,errorTitle:null,errorMessage:null}},mounted:function(){j.addErrorHandler(this.setError)},destroyed:function(){j.removeErrorHandler(this.setError)},methods:{setError:function(t){var e=t.hasError,a=t.title,s=t.message;this.hasError=e,this.errorTitle=a,this.errorMessage=s}}},E=D,I=Object(o["a"])(E,k,T,!1,null,null,null),R=I.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticStyle:{"padding-top":"15px"},attrs:{fluid:""}},[a("b-row",[a("b-col",[t.docs?a("div",{class:t.hasNavigation?["has-navigation"]:[]},[a("b-list-group",{staticClass:"experiment-list"},t._l(t.docs,function(t){return a("experiment-list-entry",{key:t.id,attrs:{doc:t}})}),1),t.hasNavigation?a("b-button-toolbar",{staticClass:"d-flex w-100 justify-content-center fixed-bottom navigation-bar",attrs:{"key-nav":"","aria-label":"Toolbar with button groups"}},[a("b-button-group",{staticClass:"mx-1"},[a("b-btn",{attrs:{disabled:!t.hasPrevPage},on:{click:t.prevPage}},[t._v("‹")])],1),a("b-button-group",{staticClass:"mx-1"},[a("b-btn",[t._v(t._s(this.thePageId))])],1),a("b-button-group",{staticClass:"mx-1"},[a("b-btn",{attrs:{disabled:!t.hasNextPage},on:{click:t.nextPage}},[t._v("›")])],1)],1):t._e()],1):t._e()])],1)],1)},S=[],P=(a("c5f6"),a("bc3a")),z=a.n(P),F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-list-group-item",{staticClass:"flex-column align-items-start",attrs:{variant:t.statusClass,to:"/"+t.doc.id+"/"}},[a("div",{staticClass:"d-flex w-100 justify-content-between flex-md-row flex-column"},[a("h5",{staticClass:"mb-1"},[t._v(t._s(t.doc.name))]),a("small",{staticClass:"text-muted"},[t._v(t._s(t.dateText))])]),t.doc.description?a("div",[t._v("\n    "+t._s(t.doc.description)+"\n  ")]):t._e(),t.doc.result?a("div",{staticClass:"results d-flex justify-content-start flex-wrap"},t._l(t.sortedResultKeys,function(e){return a("div",{key:e,staticClass:"resultItem d-flex justify-content-start"},[a("div",{staticClass:"resultKey"},[t._v(t._s(e))]),a("div",{staticClass:"resultValue"},[t._v(t._s(t.doc.result[e]))])])}),0):t._e(),t.doc.tags?a("div",{staticClass:"tags"},t._l(t.doc.tags,function(e){return a("b-badge",{key:e,attrs:{variant:t.statusClass||"secondary"}},[t._v(t._s(e))])}),1):t._e()])},N=[],O=(a("55dd"),a("a4bb")),$=a.n(O),M=a("c1df"),U=a.n(M),W=function(){function t(){Object(p["a"])(this,t),this._tm=null,this._dateText="",this._dateDiff=0,this._interval=null,this._refreshRate=null,this._hasDestroyed=!1,this._watchers=[]}return Object(g["a"])(t,[{key:"addWatcher",value:function(t){this._watchers.push(t)}},{key:"setTimestamp",value:function(t){this._tm=U.a.utc(1e3*t).local(),this.updateText()}},{key:"updateText",value:function(){var t=this,e=U()(),a=Math.floor(Math.abs(this._tm.diff(e))/1e3);this._dateDiff=a;var s=0;if(s=a<=61?1:a<=3660?60:a<=9e4?3600:null,this._dateText=a<60?a>=2?"".concat(a," seconds ago"):a>=1?"1 second ago":"just now":a<3600?a>=120?"".concat(Math.floor(a/60)," minutes ago"):"1 minute ago":a<86400?a>=7200?"".concat(Math.floor(a/3600)," hours ago"):"1 hour ago":this._tm.format("LLL"),!this._hasDestroyed){s&&s===this._refreshRate||this._interval&&(clearInterval(this._interval),this._interval=null),s&&s!==this._refreshRate&&(this._interval=setInterval(function(){return t.updateText()},1e3*s),this._refreshRate=s);for(var n=0;n<this._watchers.length;++n)this._watchers[n](this._dateText,this._dateDiff)}}},{key:"destroy",value:function(){this._hasDestroyed=!0,this._interval&&(clearInterval(this._interval),this._interval=null)}}]),t}();function K(t,e){var a=t.status,s=t.exit_code;if("RUNNING"===a){if(e>3600)return"LOST";if(e>300)return"Maybe LOST"}return"COMPLETED"===a&&0!==s?"FAILED":a}function V(t,e,a){var s=t.status,n=t.exit_code;return s=K({status:s,exit_code:n},e),"RUNNING"===s?"primary":"Maybe LOST"===s?"warning":"FAILED"===s||"LOST"===s?"danger":a}function A(t,e){return U.a.utc(1e3*t).local().format(e||"LLL")}var q={props:{doc:{type:Object}},data:function(){return{expanded:!1,dateText:null,dateDiff:0,statusClass:null}},mounted:function(){var t=this;this.timeDiff=new W,this.timeDiff.addWatcher(function(e,a){return t.timeDiffWatcher(e,a)}),this.timeDiff.setTimestamp(this.doc.heartbeat)},destroyed:function(){this.timeDiff&&this.timeDiff.destroy()},methods:{timeDiffWatcher:function(t,e){this.dateText=t,this.dateDiff=e,this.statusClass=V(this.doc,this.dateDiff)}},computed:{sortedResultKeys:function(){if(this.doc.result){var t=$()(this.doc.result);return t.sort(),t}return null}},watch:{doc:function(t){this.timeDiff.setTimestamp(t.heartbeat)}}},B=q,H=(a("48ac"),Object(o["a"])(B,F,N,!1,null,"0d97d4f0",null)),G=H.exports,Y={components:{ExperimentListEntry:G},props:{query:{type:Object,default:function(){}},pageSize:{type:Number,default:10},pageId:{type:Number,default:1}},data:function(){return{docs:null,thePageId:this.pageId,hasNextPage:!0}},mounted:function(){var t=this;this.load(),j.addReloader(this.load),this.autoReloader=setInterval(function(){return t.load()},12e4)},destroyed:function(){j.removeReloader(this.load),this._autoReloader&&(clearInterval(this._autoReloader),this.autoReloader=null)},watch:{query:function(){this.load()},pageSize:function(){this.load()},pageId:function(t){this.thePageId=t,this.load()}},methods:{load:function(){var t=this,e=this.thePageId;j.setLoadingFlag(!0),z.a.post("/v1/_query?timestamp=1&strict=1&skip=".concat((e-1)*this.pageSize,"&limit=").concat(this.pageSize+1),{body:this.query}).then(function(a){if(e===t.thePageId){var s=a.data;s.length>t.pageSize?(t.hasNextPage=!0,t.docs=a.data.slice(0,a.data.length-1)):(t.hasNextPage=!1,t.docs=a.data),j.setLoadingFlag(!1),j.unsetError()}}).catch(function(e){t.docs=null,j.setLoadingFlag(!1),j.setError({message:e.response?e.response.statusText:e,title:"Failed to load experiments"})})},prevPage:function(){this.hasPrevPage&&(this.thePageId-=1,this.$emit("pageIdChanged",this.thePageId),this.load())},nextPage:function(){this.hasNextPage&&(this.thePageId+=1,this.$emit("pageIdChanged",this.thePageId),this.load())},hasNavigation:function(){return this.docs&&(this.hasPrevPage||this.hasNextPage)}},computed:{hasPrevPage:function(){return this.thePageId>1}}},J=Y,Z=(a("2664"),Object(o["a"])(J,L,S,!1,null,"123ed7d1",null)),Q=Z.exports,X=a("85f2"),tt=a.n(X),et=a("8ded"),at=a.n(et);function st(t){for(var e={},a=$()(t),s=function(){var s=a[n],r=t[s];tt()(e,s,{get:function(){var t=at.a.get(s);return"undefined"===typeof t?r:t},set:function(t){at.a.set(s,t)}})},n=0;n<a.length;n++)s();return e}var nt=function(){function t(){Object(p["a"])(this,t),this._dashboard=st({pageId:1,pageSize:10,queryString:""})}return Object(g["a"])(t,[{key:"dashboard",get:function(){return this._dashboard}}]),t}(),rt=new nt,it=rt,ot={components:{DelayedProgressBar:C,ErrorBox:R,ExperimentList:Q},data:function(){return{pageSize:it.dashboard.pageSize,pageId:it.dashboard.pageId}},mounted:function(){document.title="Dashboard - MLStorage"},methods:{refresh:function(){j.callReloader()},pageIdChanged:function(t){it.dashboard.pageId=t}}},ct=ot,dt=(a("aa46"),Object(o["a"])(ct,f,h,!1,null,null,null)),lt=dt.exports,ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-navbar",{attrs:{toggleable:"md",type:"dark",variant:"dark",fixed:"top"}},[a("b-navbar-toggle",{attrs:{target:"nav_collapse"}}),a("b-navbar-brand",{attrs:{href:"#"}},[t._v("MLStorage")]),a("b-collapse",{attrs:{"is-nav":"",id:"nav_collapse"}},[a("b-navbar-nav",[a("b-nav-item",{attrs:{to:"/",exact:""}},[t._v("Dashboard")])],1),a("b-dropdown-divider"),a("b-navbar-nav",[a("b-nav-item",{attrs:{to:"/"+t.id+"/",exact:""}},[t._v("Experiment")]),a("b-nav-item",{attrs:{to:"/"+t.id+"/console",exact:""}},[t._v("Console")]),a("b-nav-item",{attrs:{to:"/"+t.id+"/browse/"}},[t._v("Browse")])],1),a("b-dropdown-divider"),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item",{on:{click:t.refresh}},[t._v("Reload")])],1)],1)],1),a("delayed-progress-bar",{staticClass:"fixed-top",attrs:{"z-index":"9999"}}),a("div",{staticClass:"main-wrapper"},[a("error-box"),t.doc?a("router-view",{attrs:{doc:t.doc},on:{update:t.updateDoc,delete:t.deleteDoc}}):t._e()],1)],1)},ft=[],ht=(a("7f7f"),{components:{DelayedProgressBar:C,ErrorBox:R},data:function(){return{doc:null}},computed:{id:function(){return this.$route.params.id},name:function(){return this.doc&&this.doc.name}},mounted:function(){var t=this;this.load(),j.addReloader(this.load),this._autoReloader=setInterval(function(){return t.load()},12e4)},destroyed:function(){this._autoReloader&&(clearInterval(this._autoReloader),this._autoReloader=null),j.removeReloader(this.load)},methods:{refresh:function(){j.callReloader()},setDoc:function(t){this.doc=t,document.title=t?"".concat(this.doc.name||this.doc.id," - MLStorage"):"Experiment - MLStorage"},load:function(){var t=this;j.setLoadingFlag(!0),z.a.get("/v1/_get/".concat(this.id,"?timestamp=1&strict=1")).then(function(e){j.setLoadingFlag(!1),j.unsetError(),t.setDoc(e.data)}).catch(function(e){j.setLoadingFlag(!1),j.setError({title:"Failed to load the experiment",message:e.response?e.response.statusText:e}),t.setDoc(null)})},updateDoc:function(t){var e=this;t&&(j.setLoadingFlag(!0),z.a.post("/v1/_update/".concat(this.id,"?timestamp=1&strict=1"),t).then(function(t){j.setLoadingFlag(!1),j.unsetError(),e.setDoc(t.data)}).catch(function(t){j.setLoadingFlag(!1),j.setError({title:"Failed to load the experiment",message:t.response?t.response.statusText:t}),e.setDoc(null)}))},deleteDoc:function(){var t=this;j.setLoadingFlag(!0),z.a.post("/v1/_delete/".concat(this.id)).then(function(){j.setLoadingFlag(!1),j.unsetError(),t.$router.push("/")}).catch(function(e){j.setLoadingFlag(!1),j.setError({title:"Failed to delete the experiment",message:e.response?e.response.statusText:e}),t.setDoc(null)})}}}),vt=ht,bt=(a("e968"),Object(o["a"])(vt,ut,ft,!1,null,null,null)),pt=bt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-modal",{attrs:{id:"deleteConfirm",title:"Confirm to Delete","ok-variant":"danger","ok-title":"Delete It"},on:{ok:t.deleteDoc}},[t._v("\n    Really want to delete the experiment\n      "),t.doc.name?a("span",[t._v('"'+t._s(t.doc.name)+'" ('+t._s(t.doc.id)+")")]):a("span",[t._v('"'+t._s(t.doc.id)+'"')]),t._v("\n    ?\n  ")]),a("b-container",{staticStyle:{"padding-top":"15px"},attrs:{fluid:""}},[a("b-row",[a("b-col",[a("b-button-toolbar",{staticClass:"toolbar justify-content-end",attrs:{"key-nav":"","aria-label":"Toolbar with button groups"}},[t.doc&&t.sortedWebUIKeys?a("b-button-group",{staticClass:"mx-1"},t._l(t.sortedWebUIKeys,function(e){return a("b-button",{key:"webui:"+e,attrs:{href:t.doc.webui[e]}},[t._v("\n              "+t._s(e)+"\n            ")])}),1):t._e(),a("b-button-group",{staticClass:"mx-1"},[a("b-button",{attrs:{variant:"secondary",href:"/v1/_tarball/"+t.id}},[t._v("Download")]),a("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.deleteConfirm",modifiers:{deleteConfirm:!0}}],attrs:{variant:"danger"}},[t._v("Delete")])],1),a("div",{staticStyle:{clear:"both"}})],1),a("table",{staticClass:"table table-hover info-table"},[a("tbody",[a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("ID")]),a("td",{staticClass:"id"},[a("span",[t._v(t._s(t.doc.id))])])]),a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Name")]),a("td",[a("editable-text",{attrs:{value:t.doc.name},on:{change:t.onNameChanged}},[t._v("\n                "+t._s(t.doc.name)+"\n              ")])],1)]),a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Description")]),a("td",[a("editable-text",{attrs:{value:t.doc.description},on:{change:t.onDescriptionChanged}},[t._v("\n                "+t._s(t.doc.description)+"\n              ")])],1)]),a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Tags")]),a("td",{staticClass:"tags"},[a("editable-text",{attrs:{value:t.doc.tags,valueToText:t.tagsToText,textToValue:t.textToTags},on:{change:t.onTagsChanged}},t._l(t.doc.tags,function(e){return a("span",{key:e},[t._v(t._s(e))])}),0)],1)]),a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Status")]),a("td",[a("div",{class:"text-"+t.statusClass},[t._v(t._s(t.statusText))])])]),t.doc.error&&t.doc.error.message?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Error")]),a("td",[a("div",[t._v("\n                "+t._s(t.doc.error.message)+"\n                "),t.doc.error.traceback?a("b-button",{staticClass:"show-traceback-btn",attrs:{pressed:t.showTraceback,variant:"secondary",size:"sm"},on:{"update:pressed":function(e){t.showTraceback=e}}},[t._v("\n                  Show Traceback\n                ")]):t._e(),t.doc.error.traceback&&t.showTraceback?a("pre",{staticClass:"traceback"},[t._v(t._s(t.doc.error.traceback))]):t._e()],1)])]):t._e(),t.doc.result?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Result")]),a("td",[a("dict-table",{attrs:{items:t.doc.result}})],1)]):t._e(),t.doc.config||t.doc.default_config?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Config")]),t.doc.default_config?a("td",[a("b-button",{attrs:{pressed:t.showDefaultConfig,variant:"secondary",size:"sm"},on:{"update:pressed":function(e){t.showDefaultConfig=e}}},[t._v("\n                Show Default Config\n              ")]),t.showDefaultConfig&&t.mergedConfig?a("dict-table",{staticStyle:{"margin-top":"5px"},attrs:{items:t.mergedConfig,boldKeys:t.configKeys}}):t.doc.config?a("dict-table",{staticStyle:{"margin-top":"5px"},attrs:{items:t.doc.config}}):t._e()],1):a("td",[a("dict-table",{attrs:{items:t.mergedConfig}})],1)]):t._e(),t.doc.args?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Args")]),a("td",[t._v(t._s(t.doc.args))])]):t._e(),void 0!==t.doc.exit_code&&null!==t.doc.exit_code?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Exit Code")]),a("td",[t._v(t._s(t.doc.exit_code))])]):t._e(),t.doc.storage_dir?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Storage Dir")]),a("td",[t._v(t._s(t.doc.storage_dir))])]):t._e(),t.doc.exc_info&&t.doc.exc_info.work_dir?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Work Dir")]),a("td",[t._v(t._s(t.doc.exc_info.work_dir))])]):t._e(),t.storageSize?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("File Size")]),a("td",[t._v(t._s(t.storageSize))])]):t._e(),t.doc.start_time?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Start Time")]),a("td",[t._v(t._s(t.startTime))])]):t._e(),a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Last Update")]),a("td",[t._v(t._s(t.dateText))])]),t.doc.exc_info&&t.doc.exc_info.hostname?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Hostname")]),a("td",[t._v(t._s(t.doc.exc_info.hostname))])]):t._e(),t.doc.exc_info&&t.doc.exc_info.pid?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("PID")]),a("td",[t._v(t._s(t.doc.exc_info.pid))])]):t._e(),t.doc.exc_info&&t.doc.exc_info.env?a("tr",[a("th",{staticClass:"fieldName",attrs:{scope:"row"}},[t._v("Environ")]),a("td",[a("b-button",{attrs:{pressed:t.showEnviron,variant:"secondary",size:"sm"},on:{"update:pressed":function(e){t.showEnviron=e}}},[t._v("\n                Show Environmental Variables\n              ")]),t.showEnviron?a("dict-table",{attrs:{items:t.doc.exc_info.env}}):t._e()],1)]):t._e()])])],1)],1)],1)],1)},mt=[],_t=(a("28a5"),a("5176")),jt=a.n(_t),xt=a("49d5"),yt=a.n(xt),wt=a("5b8b"),Ct=a.n(wt),kt=a("37ec"),Tt=a.n(kt),Dt=a("f628"),Et=a.n(Dt),It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"editable-text",on:{click:t.onClick}},[t.editing?a("div",[a("b-form-input",{attrs:{type:"text",id:t.inputId,state:t.hasError},on:{change:t.onValueChange},nativeOn:{blur:function(e){return t.onValueChange(e)}},model:{value:t.valueText,callback:function(e){t.valueText=e},expression:"valueText"}}),a("b-form-invalid-feedback",{attrs:{id:t.inputId}},[t._v("\n      "+t._s(t.errorMessage)+"\n    ")])],1):a("span",[t.valueText?t._t("default"):t._e(),t.valueText?t._e():a("span",{staticClass:"placeholder"},[t._v("(click here to edit)")])],2)])},Rt=[],Lt=(a("6b54"),a("c64e")),St=a.n(Lt),Pt={props:{value:{default:null},valueToText:{default:function(){return function(t){return t}}},textToValue:{default:function(){return function(t){return t}}}},data:function(){return{editing:!1,errorMessage:null,valueText:this.valueToText(this.value),inputId:St()()}},watch:{value:function(t){this.valueText=this.valueToText(t)}},computed:{hasError:function(){return!this.errorMessage&&null}},methods:{onClick:function(){var t=this;this.editing=!0,this.errorMessage=null,s["a"].nextTick(function(){t.$el.getElementsByTagName("input")[0].focus()})},onValueChange:function(){try{this.$emit("change",this.textToValue(this.valueText)),this.errorMessage=null,this.editing=!1}catch(t){this.errorMessage=t.toString()}}}},zt=Pt,Ft=(a("81a3"),Object(o["a"])(zt,It,Rt,!1,null,"bd512aac",null)),Nt=Ft.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.sortedItems?a("table",{staticClass:"table table-sm dict-table"},[a("tbody",t._l(t.sortedItems,function(e){return a("tr",{key:e.key,class:e.bold?["table-primary","boldItem"]:[]},[a("th",{staticClass:"fieldName"},[t._v(t._s(e.key))]),a("td",{staticClass:"fieldValue"},[t._v(t._s(e.value))])])}),0)]):t._e()},$t=[],Mt=(a("6762"),a("2fdb"),{props:{items:{default:null},boldKeys:{default:null}},computed:{sortedItems:function(){var t=this.items||{},e=this.boldKeys||[],a=$()(t);return a.sort(Ct()({insensitive:!0})),a.map(function(a){return{key:a,value:t[a],bold:e.includes(a)}})}}}),Ut=Mt,Wt=(a("f4c8"),Object(o["a"])(Ut,Ot,$t,!1,null,"4c02b502",null)),Kt=Wt.exports,Vt={components:{EditableText:Nt,DictTable:Kt},props:["doc"],data:function(){return{dateText:null,dateDiff:0,statusClass:null,statusText:null,showTraceback:!1,showDefaultConfig:!1,showEnviron:!1}},mounted:function(){var t=this;j.unsetError(),this.timeDiff=new W,this.timeDiff.addWatcher(function(e,a){return t.timeDiffWatcher(e,a)}),this.timeDiff.setTimestamp(this.doc.heartbeat)},destroyed:function(){this.timeDiff&&(this.timeDiff.destroy(),this.timeDiff=null)},computed:{id:function(){return this.$route.params.id},sortedWebUIKeys:function(){if(this.doc.webui){var t=$()(this.doc.webui);return t.sort(Ct()({insensitive:!0})),t}return null},startTime:function(){return U.a.utc(1e3*this.doc.start_time).local().format("LLL")},mergedConfig:function(){var t=jt()({},this.doc.default_config||{});return t=jt()(t,this.doc.config||{}),t},configKeys:function(){return $()(this.doc.config||{})},storageSize:function(){return this.doc.storage_size?yt()(this.doc.storage_size):null}},methods:{timeDiffWatcher:function(t,e){this.dateText=t,this.dateDiff=e,this.statusClass=V(this.doc,this.dateDiff,"success"),this.statusText=K(this.doc,this.dateDiff)},updateDoc:function(t){t&&this.$emit("update",t)},deleteDoc:function(){this.$emit("delete")},onNameChanged:function(t){t!==this.doc.name&&this.updateDoc({name:t})},onDescriptionChanged:function(t){t!==this.doc.description&&this.updateDoc({description:t})},tagsToText:function(t){return(t||[]).map(function(t){return t.trim()}).filter(function(t){return!!t}).join(", ")},textToTags:function(t){return Et()(t.split(",").map(function(t){return t.trim()}).filter(function(t){return!!t}))},onTagsChanged:function(t){t=t||[];var e=this.doc.tags||[];Tt()(t,e)||this.updateDoc({tags:t})}},watch:{doc:function(t){this.timeDiff.setTimestamp(t.heartbeat)}}},At=Vt,qt=(a("7566"),Object(o["a"])(At,gt,mt,!1,null,"524c615c",null)),Bt=qt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"log-wrapper bg-dark"},[t.logs?a("div",{staticClass:"log-content"},[a("pre",{staticClass:"text-light"},[t._v(t._s(t.logs))])]):t._e()])},Gt=[],Yt=a("70f1"),Jt=a.n(Yt),Zt=function(){function t(e){Object(p["a"])(this,t),this.loaderFunc=e,this.contentRangeSupported=!0,this.rangeStart=0,this._autoReloader=null,this._hasUnset=!1}return Object(g["a"])(t,[{key:"setReloader",value:function(t){this._hasUnset||(this.contentRangeSupported===t&&this._autoReloader||(this._autoReloader&&(clearInterval(this._autoReloader),this._autoReloader=null),this._autoReloader=setInterval(this.loaderFunc,this.contentRangeSupported?1e4:12e4)),this.contentRangeSupported=t)}},{key:"unsetReloader",value:function(){this._hasUnset||(this._autoReloader&&(clearInterval(this._autoReloader),this._autoReloader=null),this._hasUnset=!0)}}]),t}(),Qt={props:["doc"],data:function(){return{loading:!1,finished:!1,logs:null,rangeStart:0}},mounted:function(){var t=this;this.finished="FAILED"===this.doc.status||"COMPLETED"===this.doc.status,this.autoReloader=new Zt(function(){return t.load()}),this.finished?this.autoReloader.unsetReloader():this.autoReloader.setReloader(!0),this.load(),j.addReloader(this.load)},destroyed:function(){j.removeReloader(this.load),this.autoReloader.unsetReloader()},computed:{id:function(){return this.$route.params.id}},methods:{load:function(){var t=this;this.loading||(this.loading=!0,j.setLoadingFlag(!0),z.a.get("/v1/_getfile/".concat(this.id,"/console.log"),{headers:this.autoReloader.contentRangeSupported?{Range:"bytes=".concat(this.rangeStart,"-")}:{Range:"bytes=0-"}}).then(function(e){var a=e.headers["content-range"];if(a){t.logs=(t.logs||"")+e.data;try{t.rangeStart=Jt()(a.split("-")[1].split("/")[0])+1,t.autoReloader.setReloader(!0)}catch(s){console.log("Could not parse Content-Range."),t.autoReloader.setReloader(!1)}}else t.logs=e.data;j.setLoadingFlag(!1),j.unsetError(),t.loading=!1}).catch(function(e){j.setLoadingFlag(!1),e.response&&404===e.response.status?(t.autoReloader.setReloader(!1),j.unsetError(),t.logs=""):e.response&&416===e.response.status?j.unsetError():(t.autoReloader.setReloader(!1),t.logs="",j.setError({title:"Failed to load console.log",message:e.response?e.response.statusText:e})),t.loading=!1}))}},updated:function(){var t=this.$el.getElementsByClassName("log-content");t&&t[0]&&(this.$el.scrollTop=t[0].scrollHeight)},watch:{doc:function(t){this.finished="FAILED"===t.status||"COMPLETED"===t.status,this.finished&&this.autoReloader.unsetReloader()}}},Xt=Qt,te=(a("b167"),Object(o["a"])(Xt,Ht,Gt,!1,null,"0a25d6c5",null)),ee=te.exports,ae=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-container",{staticStyle:{"padding-top":"15px"},attrs:{fluid:""}},[a("b-row",[a("b-col",[t.items||t.hasParentPath?a("table",{staticClass:"table table-hover table-sm"},[a("tr",[a("th",{staticClass:"shrink",attrs:{scope:"col"}}),a("th",{staticClass:"expand",attrs:{scope:"col"}},[t._v("Name")]),a("th",{staticClass:"shrink",attrs:{scope:"col"}},[t._v("Size")]),a("th",{staticClass:"shrink",attrs:{scope:"col"}},[t._v("Modify Time")])]),t.hasParentPath?a("tr",[a("td",{staticClass:"shrink"},[a("v-icon",{attrs:{name:"folder"}})],1),a("td",{staticClass:"expand"},[a("b-link",{attrs:{to:"/"+t.id+"/browse"+t.resolvePath("..",!0)}},[t._v("..")])],1),a("td",{staticClass:"shrink"}),a("td",{staticClass:"shrink"})]):a("tr",[a("td",{staticClass:"shrink"},[a("v-icon",{attrs:{name:"folder"}})],1),a("td",{staticClass:"expand"},[a("b-link",{attrs:{to:"/"+t.id+"/browse/"}},[t._v(".")])],1),a("td",{staticClass:"shrink"}),a("td",{staticClass:"shrink"})]),t._l(t.sortedDirs,function(e){return a("tr",{key:e.name},[a("td",{staticClass:"shrink"},[a("v-icon",{attrs:{name:"folder"}})],1),a("td",{staticClass:"expand"},[a("b-link",{attrs:{to:"/"+t.id+"/browse"+t.resolvePath(e.name,!0)}},[t._v(t._s(e.name))])],1),a("td",{staticClass:"shrink"}),a("td",{staticClass:"shrink"},[t._v(t._s(t.formatDateTime(e.mtime)))])])}),t._l(t.sortedFiles,function(e){return a("tr",{key:e.name},[a("td",{staticClass:"shrink"},[a("v-icon",{attrs:{name:"file"}})],1),a("td",{staticClass:"expand"},[a("a",{attrs:{href:"/v1/_getfile/"+t.id+t.resolvePath(e.name)}},[t._v(t._s(e.name))])]),a("td",{staticClass:"shrink"},[t._v(t._s(t.fileSize(e.size)))]),a("td",{staticClass:"shrink"},[t._v(t._s(t.formatDateTime(e.mtime)))])])})],2):t._e()])],1)],1)},se=[],ne=(a("aef6"),{data:function(){return{items:null}},mounted:function(){this.load(),j.addReloader(this.load)},destroyed:function(){j.removeReloader(this.load)},computed:{id:function(){return this.$route.params.id},path:function(){return this.normalizePath(this.$route.params.path||"")},hasParentPath:function(){return"/"!==this.path},sortedDirs:function(){return this.filterItems(function(t){return t.isdir})},sortedFiles:function(){return this.filterItems(function(t){return!t.isdir})}},watch:{path:function(){this.load()}},methods:{load:function(){var t=this;j.setLoadingFlag(!0),z.a.get("/v1/_listdir/".concat(this.id).concat(this.path)).then(function(e){t.items=e.data,j.setLoadingFlag(!1),j.unsetError()}).catch(function(e){t.items=null,j.setLoadingFlag(!1),j.setError({title:"Failed to list directory",message:e.response?e.response.statusText:e})})},filterItems:function(t){var e=this;if(this.items){var a=this.items.map(function(t,e){return[t.name,e]}).filter(function(a,s){return t(e.items[s])});return a.sort(Ct()({insensitive:!0})),a.map(function(t){return e.items[t[1]]})}},formatDateTime:function(t){return A(t,"YYYY-MM-DD H:mm:ss")},fileSize:function(t){return yt()(t)},normalizePath:function(t){for(var e=t.split("/"),a=[],s=0;s<e.length;++s)".."===e[s]?e.length>0&&a.pop():"."!==e[s]&&""!==e[s]&&a.push(e[s]);return"/"+a.join("/")},resolvePath:function(t,e){var a=this.normalizePath("".concat(this.path,"/").concat(t));return e&&!a.endsWith("/")&&(a+="/"),a}}}),re=ne,ie=(a("2036"),Object(o["a"])(re,ae,se,!1,null,"4e5758a9",null)),oe=ie.exports;s["a"].use(u["a"]);var ce=new u["a"]({mode:"history",routes:[{path:"/",component:lt},{path:"/:id([A-Za-z0-9]{24})",component:pt,children:[{path:"",component:Bt},{path:"console",component:ee},{path:"browse:path(/.*)?",component:oe}]}]}),de=ce,le=a("0874");s["a"].use(n["a"]),s["a"].component("v-icon",le["a"]),s["a"].config.productionTip=!1,new s["a"]({el:"#app",router:de,components:{App:l},template:"<App/>"})},"64a9":function(t,e,a){},"70dd":function(t,e,a){},7566:function(t,e,a){"use strict";var s=a("70dd"),n=a.n(s);n.a},"81a3":function(t,e,a){"use strict";var s=a("0e24"),n=a.n(s);n.a},"82e6":function(t,e,a){},aa46:function(t,e,a){"use strict";var s=a("dd59"),n=a.n(s);n.a},aba6:function(t,e,a){},ae4b:function(t,e,a){},b167:function(t,e,a){"use strict";var s=a("254d"),n=a.n(s);n.a},b31c:function(t,e,a){},dd59:function(t,e,a){},e968:function(t,e,a){"use strict";var s=a("b31c"),n=a.n(s);n.a},f4c8:function(t,e,a){"use strict";var s=a("51f6"),n=a.n(s);n.a}});
//# sourceMappingURL=app.39ae8159.js.map